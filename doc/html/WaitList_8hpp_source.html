<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Network Rerouter Daemon (nerd): WaitList.hpp Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Network Rerouter Daemon (nerd)
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">WaitList.hpp</div>  </div>
</div>
<div class="contents">
<a href="WaitList_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*************************************************</span>
<a name="l00002"></a>00002 <span class="comment">* Copyright (c) Rennie deGraaf, 2007.  All rights reserved.</span>
<a name="l00003"></a>00003 <span class="comment">* $Id$</span>
<a name="l00004"></a>00004 <span class="comment">*</span>
<a name="l00005"></a>00005 <span class="comment">* This file is part of LibWheel.</span>
<a name="l00006"></a>00006 <span class="comment">**************************************************/</span>
<a name="l00007"></a>00007 
<a name="l00016"></a>00016 <span class="preprocessor">#ifndef LIBWHEEL_WAITLIST_HPP</span>
<a name="l00017"></a>00017 <span class="preprocessor"></span><span class="preprocessor">    #define LIBWHEEL_WAITLIST_HPP</span>
<a name="l00018"></a>00018 <span class="preprocessor"></span>
<a name="l00019"></a>00019 <span class="preprocessor">    #include &lt;list&gt;</span>
<a name="l00020"></a>00020 <span class="preprocessor">    #include &lt;ctime&gt;</span>
<a name="l00021"></a>00021     
<a name="l00022"></a>00022     <span class="keyword">namespace </span>LibWheel
<a name="l00023"></a>00023     {
<a name="l00024"></a>00024 
<a name="l00046"></a>00046         <span class="keyword">template</span> &lt;<span class="keyword">typename</span> V&gt;
<a name="l00047"></a>00047         <span class="keyword">class </span>WaitList
<a name="l00048"></a>00048         {
<a name="l00049"></a>00049           <span class="keyword">protected</span>:
<a name="l00050"></a>00050             <span class="keyword">class </span>WaitGC; <span class="comment">// forward declaration</span>
<a name="l00051"></a>00051           <span class="keyword">public</span>:
<a name="l00055"></a>00055             <span class="keyword">class </span>WaitWrapper
<a name="l00056"></a>00056             {
<a name="l00057"></a>00057               <span class="keyword">public</span>:
<a name="l00058"></a>00058                 <a class="code" href="classLibWheel_1_1WaitList_1_1WaitWrapper.html#ae19fba6c4c852f12ae8c94537d55c1fe" title="Constructor for WaitList::WaitWrapper.">WaitWrapper</a>(<span class="keyword">const</span> V&amp; v, <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="classLibWheel_1_1WaitList_1_1WaitWrapper.html#ab6e7098923788076c6041df2ec845925" title="The time to remove the object, in seconds since the epoch.">timeout</a>);
<a name="l00059"></a><a class="code" href="classLibWheel_1_1WaitList_1_1WaitWrapper.html#a343d0e2af0e140f50a42fc3019483706">00059</a>                 V <a class="code" href="classLibWheel_1_1WaitList_1_1WaitWrapper.html#a343d0e2af0e140f50a42fc3019483706" title="The object being stored.">value</a>; 
<a name="l00060"></a>00060               <span class="keyword">private</span>:
<a name="l00061"></a>00061                 <span class="keyword">friend</span> <span class="keywordtype">void</span> <a class="code" href="classLibWheel_1_1WaitList_1_1WaitGC.html#afb5c536ce88b8c365753e2e491135f55" title="Call operator for WaitList::WaitGC.">WaitGC::operator()</a>();
<a name="l00062"></a><a class="code" href="classLibWheel_1_1WaitList_1_1WaitWrapper.html#ab6e7098923788076c6041df2ec845925">00062</a>                 std::time_t <a class="code" href="classLibWheel_1_1WaitList_1_1WaitWrapper.html#ab6e7098923788076c6041df2ec845925" title="The time to remove the object, in seconds since the epoch.">timeout</a>; 
<a name="l00063"></a>00063             };
<a name="l00064"></a><a class="code" href="classLibWheel_1_1WaitList.html#a1ff6e1745f202171e2d3a17a114c58af">00064</a>             <span class="keyword">typedef</span> V <a class="code" href="classLibWheel_1_1WaitList.html#a1ff6e1745f202171e2d3a17a114c58af" title="The type of object stored in this WaitList.">value_type</a>; 
<a name="l00065"></a><a class="code" href="classLibWheel_1_1WaitList.html#a197f2582847b549a89b833d2eb153b1c">00065</a>             <span class="keyword">typedef</span> <span class="keyword">typename</span> std::list&lt;WaitWrapper&gt;::iterator <a class="code" href="classLibWheel_1_1WaitList.html#a197f2582847b549a89b833d2eb153b1c" title="A type describing a bidirectional iterator for the list.">iterator</a>; 
<a name="l00066"></a><a class="code" href="classLibWheel_1_1WaitList.html#a016ac87f7ff3d47c628a091581baa840">00066</a>             <span class="keyword">typedef</span> <span class="keyword">typename</span> std::list&lt;WaitWrapper&gt;::const_iterator <a class="code" href="classLibWheel_1_1WaitList.html#a016ac87f7ff3d47c628a091581baa840" title="A type describing a constant bidirectional iterator for the list.">const_iterator</a>; 
<a name="l00067"></a>00067 
<a name="l00068"></a>00068             <a class="code" href="classLibWheel_1_1WaitList.html#af1f5333add29ca138c385c15581ea57e" title="Constructor for WaitList.">WaitList</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> time);
<a name="l00069"></a>00069             <a class="code" href="classLibWheel_1_1WaitList.html#ad1d70367da51da742eed56e1a978cc25" title="Destructor for WaitList.">~WaitList</a>();
<a name="l00070"></a>00070             <a class="code" href="classLibWheel_1_1WaitList.html#a197f2582847b549a89b833d2eb153b1c" title="A type describing a bidirectional iterator for the list.">iterator</a> <a class="code" href="classLibWheel_1_1WaitList.html#ae258ef53fb5bd852f91176247627ecea" title="Retrieves a bidirectional iterator to the beginning of the list.">begin</a>();
<a name="l00071"></a>00071             <a class="code" href="classLibWheel_1_1WaitList.html#a197f2582847b549a89b833d2eb153b1c" title="A type describing a bidirectional iterator for the list.">iterator</a> <a class="code" href="classLibWheel_1_1WaitList.html#a82a5b14fc1a9978a18dd6aa7fd62792d" title="Retrieves a bidirectional iterator to just past the end of the list.">end</a>();
<a name="l00072"></a>00072             <a class="code" href="classLibWheel_1_1WaitList.html#a016ac87f7ff3d47c628a091581baa840" title="A type describing a constant bidirectional iterator for the list.">const_iterator</a> <a class="code" href="classLibWheel_1_1WaitList.html#ae258ef53fb5bd852f91176247627ecea" title="Retrieves a bidirectional iterator to the beginning of the list.">begin</a>() <span class="keyword">const</span>;
<a name="l00073"></a>00073             <a class="code" href="classLibWheel_1_1WaitList.html#a016ac87f7ff3d47c628a091581baa840" title="A type describing a constant bidirectional iterator for the list.">const_iterator</a> <a class="code" href="classLibWheel_1_1WaitList.html#a82a5b14fc1a9978a18dd6aa7fd62792d" title="Retrieves a bidirectional iterator to just past the end of the list.">end</a>() <span class="keyword">const</span>;
<a name="l00074"></a>00074             <span class="keywordtype">void</span> <a class="code" href="classLibWheel_1_1WaitList.html#ac2f908037eee4e5c5d6553c217647c1b" title="Adds an object to the back of the list.">add</a>(<span class="keyword">const</span> <a class="code" href="classLibWheel_1_1WaitList.html#a1ff6e1745f202171e2d3a17a114c58af" title="The type of object stored in this WaitList.">value_type</a>&amp; rev);
<a name="l00075"></a>00075             <a class="code" href="classLibWheel_1_1WaitList.html#a197f2582847b549a89b833d2eb153b1c" title="A type describing a bidirectional iterator for the list.">iterator</a> <a class="code" href="classLibWheel_1_1WaitList.html#a975195ad3a9b2c38453291a1633cf78b" title="Removes an object from the list.">erase</a>(<a class="code" href="classLibWheel_1_1WaitList.html#a197f2582847b549a89b833d2eb153b1c" title="A type describing a bidirectional iterator for the list.">iterator</a>&amp; i);
<a name="l00076"></a>00076             std::size_t <a class="code" href="classLibWheel_1_1WaitList.html#a21cf29a4959829a276799c989995c98c" title="Retrieves the number of elements in the list.">size</a>() <span class="keyword">const</span>;
<a name="l00077"></a>00077             <span class="keywordtype">bool</span> <a class="code" href="classLibWheel_1_1WaitList.html#abaf7e9847f95400ae461f6d76f68e531" title="Checks if the list is empty.">empty</a>() <span class="keyword">const</span>;
<a name="l00078"></a>00078           <span class="keyword">protected</span>:
<a name="l00084"></a>00084             <span class="keyword">class </span>WaitGC
<a name="l00085"></a>00085             {
<a name="l00086"></a>00086               <span class="keyword">public</span>:
<a name="l00087"></a>00087                 <a class="code" href="classLibWheel_1_1WaitList_1_1WaitGC.html#aaf69f8d97ba51509c95a559f6a62831e" title="Constructor for WaitList::WaitGC.">WaitGC</a>(std::list&lt;WaitWrapper&gt;&amp; l);
<a name="l00088"></a>00088                 <span class="keywordtype">void</span> <a class="code" href="classLibWheel_1_1WaitList_1_1WaitGC.html#afb5c536ce88b8c365753e2e491135f55" title="Call operator for WaitList::WaitGC.">operator()</a>();
<a name="l00089"></a>00089               <span class="keyword">private</span>:
<a name="l00090"></a><a class="code" href="classLibWheel_1_1WaitList_1_1WaitGC.html#a38657b9343752161a6380f8d6204e986">00090</a>                 std::list&lt;WaitWrapper&gt;&amp; <a class="code" href="classLibWheel_1_1WaitList_1_1WaitGC.html#a38657b9343752161a6380f8d6204e986" title="A reference to the object list of the parent WaitList.">objs</a>; 
<a name="l00091"></a>00091             };
<a name="l00092"></a>00092             
<a name="l00093"></a><a class="code" href="classLibWheel_1_1WaitList.html#a33add3411131d6588693cb4d382f678e">00093</a>             std::list&lt;WaitWrapper&gt; <a class="code" href="classLibWheel_1_1WaitList.html#a33add3411131d6588693cb4d382f678e" title="The list of objects contained by this WaitList.">objs</a>; 
<a name="l00094"></a><a class="code" href="classLibWheel_1_1WaitList.html#a0c5c6a51b01bb3b575fcd367c8d16f14">00094</a>             WaitGC <a class="code" href="classLibWheel_1_1WaitList.html#a0c5c6a51b01bb3b575fcd367c8d16f14" title="The timer interrupt handler for this WaitList.">gc</a>; 
<a name="l00095"></a><a class="code" href="classLibWheel_1_1WaitList.html#a53c2d486c7c8a16a7c25176a974b9759">00095</a>             <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="classLibWheel_1_1WaitList.html#a53c2d486c7c8a16a7c25176a974b9759" title="The lifetime of objects stored in this WaitList, in seconds.">timeout</a>; 
<a name="l00096"></a>00096         };
<a name="l00097"></a>00097     
<a name="l00098"></a>00098     } <span class="comment">// namespace LibWheel</span>
<a name="l00099"></a>00099     
<a name="l00100"></a>00100 <span class="preprocessor">#include &quot;<a class="code" href="WaitList__impl_8cpp.html">WaitList_impl.cpp</a>&quot;</span>
<a name="l00101"></a>00101 
<a name="l00102"></a>00102 <span class="preprocessor">#endif </span><span class="comment">/* LIBWHEEL_WAITLIST_HPP */</span>
</pre></div></div>
</div>


<hr class="footer"/><address class="footer"><small>
Generated on Wed Nov 28 2012 13:00:07 for Network Rerouter Daemon (nerd) by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5
</small></address>

</body>
</html>
